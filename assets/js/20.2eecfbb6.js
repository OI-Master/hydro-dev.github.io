(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{206:function(t,a,s){"use strict";s.r(a);var r=s(3),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"常规部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常规部署"}},[t._v("#")]),t._v(" 常规部署")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("不建议在 Windows 下安装 Hydro。")])]),t._v(" "),s("p",[t._v("这里将为您展示如何手动部署 Hydro。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("在下面的手动部署过程中，若您遇到了一些困难，也许可以考虑参考 "),s("a",{attrs:{href:"https://github.com/hydro-dev/Hydro/tree/master/install",target:"_blank",rel:"noopener noreferrer"}},[t._v("自动安装脚本"),s("OutboundLink")],1),t._v(" 的部分脚本。")])]),t._v(" "),s("h2",{attrs:{id:"mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[t._v("#")]),t._v(" MongoDB")]),t._v(" "),s("p",[t._v("Hydro 需要 "),s("a",{attrs:{href:"https://www.mongodb.com/try/download/community",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB"),s("OutboundLink")],1),t._v(" 提供数据库服务。")]),t._v(" "),s("h2",{attrs:{id:"s3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s3"}},[t._v("#")]),t._v(" S3")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("如果您希望采用其他方式来提供S3服务（如 腾讯云COS、阿里云OSS、Amazon S3、wasabi 等），请跳过此步。")])]),t._v(" "),s("p",[t._v("这里推荐使用 "),s("a",{attrs:{href:"https://min.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("MinIO"),s("OutboundLink")],1),t._v(" 在本机上为 Hydro 提供 S3 服务。")]),t._v(" "),s("h2",{attrs:{id:"nodejs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs"}},[t._v("#")]),t._v(" NodeJS")]),t._v(" "),s("p",[t._v("建议使用 nvm 安装 NodeJS。")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://nvm.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("Windows"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("您也需要安装 yarn。")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v("\n")])])]),s("h2",{attrs:{id:"hydro"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hydro"}},[t._v("#")]),t._v(" Hydro")]),t._v(" "),s("p",[t._v("在进行此步前，您应该确保已经完成上述步骤，然后可以运行下面的指令安装 Hydro。")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" -g\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" hydrooj @hydrooj/ui-default\n")])])]),s("h2",{attrs:{id:"运行-hydro"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行-hydro"}},[t._v("#")]),t._v(" 运行 Hydro")]),t._v(" "),s("p",[t._v("您可以使用下面的指令运行 Hydro，Hydro 将会自行初始化并监听 8888 端口。")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("hydrooj\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("单个 Hydro 实例需要约 100MB 的运行内存。（取决于安装的模块数量与大小）")])]),t._v(" "),s("p",[t._v("您也可以同时使用下面的附加参数。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("--port=8888")]),t._v(" 指定启动端口")]),t._v(" "),s("li",[s("code",[t._v("--debug")]),t._v(" 启用开发模式")]),t._v(" "),s("li",[s("code",[t._v("--ignorelock")]),t._v(" 忽略lockfile（不建议）")]),t._v(" "),s("li",[s("code",[t._v("--ui=/path/to/ui")]),t._v(" 使用指定文件夹下的 UI")]),t._v(" "),s("li",[s("code",[t._v("--template=/path/to/template")]),t._v(" 使用指定文件夹下的页面模板（不进行缓存）")]),t._v(" "),s("li",[s("code",[t._v("--public=/path/to/public")]),t._v(" 使用指定文件夹的 public 目录")])]),t._v(" "),s("h2",{attrs:{id:"使用-pm2-守护程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-pm2-守护程序"}},[t._v("#")]),t._v(" 使用 pm2 守护程序")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" pm2 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装pm2")]),t._v("\npm2 startup "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开机自启")]),t._v("\npm2 start hydrooj "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动 Hydro")]),t._v("\npm2 save "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 保存")]),t._v("\n")])])]),s("p",[t._v("更多 pm2 操作可参考"),s("RouterLink",{attrs:{to:"/install/#使用-pm2-守护程序"}},[t._v("此处")])],1),t._v(" "),s("p",[t._v("完成后可以前往"),s("a",{attrs:{href:"/install/init"}},[t._v("初始化")]),t._v("。")])])}),[],!1,null,null,null);a.default=e.exports}}]);